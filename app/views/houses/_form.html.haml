= form_for @house do |f|
  - if @house.errors.any?
    #error_explanation
      %h2= "#{pluralize(@house.errors.count, "error")} prohibited this house from being saved:"
      %ul
        - @house.errors.full_messages.each do |message|
          %li= message

  .field
    - if @current_user.admin?
      = f.label :company_id
      = f.select :company_id, Company.all.collect{|c| [c.name, c.id]}
    - elsif @current_user.realtor?
      = f.hidden_field :company_id, value: @current_user.realtor.company_id
  .field
    - if @current_user.admin?
      = f.label :user_id
      = f.select :user_id, User.all.select{|u| u.admin?||u.realtor?}.collect {|u| [u.name, u.id]}
    - elsif @current_user.realtor?
      = f.hidden_field :user_id, value: @current_user.id
  .field
    = f.label :location
    = f.text_field :location
  .field
    = f.label :area
    = f.text_field :area
  .field
    = f.label :year_built
    = f.number_field :year_built
  .field
    = f.label :style
    = f.text_field :style
  .field
    = f.label :price
    = f.number_field :price
  .field
    = f.label :floors
    = f.number_field :floors
  .field
    = f.label :has_basement
    = f.check_box :has_basement
  .field
    = f.label :owner
    = f.text_field :owner
  .field
    = f.label :phone
    = f.text_field :phone
  .field
    = f.label :email
    = f.text_field :email
  .field
    = f.label :image_path
    = f.file_field :image_path
  .actions
    = f.submit 'Save'
